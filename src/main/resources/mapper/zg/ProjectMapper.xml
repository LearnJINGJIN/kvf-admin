<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kalvin.kvf.modules.zg.mapper.ProjectMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.kalvin.kvf.modules.zg.entity.Project">
        <id column="id" property="id" />
        <result column="project_name" property="projectName" />
        <result column="project_level" property="projectLevel" />
        <result column="info_id" property="infoId" />
        <result column="info_date" property="infoDate" />
        <result column="pro_desc" property="proDesc" />
        <result column="exist_pro_desc" property="existProDesc" />
        <result column="rela_pro_desc" property="relaProDesc" />
        <result column="expect_date" property="expectDate" />
        <result column="actual_date" property="actualDate" />
        <result column="acce_file" property="acceFile" />
        <result column="status" property="status" />
        <result column="num_changes" property="numChanges" />
        <result column="dr" property="dr" />
        <result column="create_user" property="createUser" />
        <result column="create_date" property="createDate" />
        <result column="update_user" property="updateUser" />
        <result column="update_date" property="updateDate" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
       id, project_name, project_level, info_id, info_date, pro_desc, exist_pro_desc, rela_pro_desc, expect_date, actual_date, acce_file, status, num_changes, dr, create_user, create_date, update_user, update_date
    </sql>

    <select id="selectProjectList" resultType="com.kalvin.kvf.modules.zg.entity.Project">
        select <include refid="Base_Column_List" /> from zg_project
        <trim prefix="where" prefixOverrides="and">
            <if test="project.projectName != null and project.projectName != ''">
                and project_name like concat(#{project.projectName}, "%")
            </if>
        </trim>
    </select>

</mapper>
